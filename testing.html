<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>WalletConnect Base Tx</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
  <button id="connectBtn">Connect & Send Tx on Base</button>

  <script type="module">
    import EthereumProvider from "https://esm.sh/@walletconnect/ethereum-provider@2.11.1";
    import { ethers } from "https://esm.sh/ethers@6.10.0";

    const BASE_CHAIN_ID = 8453;

    document.getElementById("connectBtn").onclick = async () => {
      const provider = await EthereumProvider.init({
        projectId: "YOUR_WALLETCONNECT_PROJECT_ID",
        chains: [BASE_CHAIN_ID],
        showQrModal: true,
        methods: ["eth_sendTransaction"],
        events: ["accountsChanged", "chainChanged"],
      });

      await provider.enable();

      const ethersProvider = new ethers.BrowserProvider(provider);
      const signer = await ethersProvider.getSigner();

      const tx = {
        to: "0x000000000000000000000000000000000000dEaD",
        value: ethers.parseEther("0.00001"),
        chainId: BASE_CHAIN_ID,
      };

      const sent = await signer.sendTransaction(tx);
      console.log("Tx hash:", sent.hash);
    };
  </script>
</body>
</html>
